(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t,n){e.exports=n(57)},42:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(17),o=n.n(i),c=n(1),s=n(4),l=n(6),u=n(5),h=n(7),m=n(12),d=(n(42),n(8)),f=n(15),p=n.n(f),v=n(18),g=n(9),b=n(3),E=n(14),y=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).isEvicted=!1,n.isJury=!1,n.id=0,n.nominations=0,n.hohWins=0,n.povWins=0,n.compatibility=[0,0,0],n.popularity=0,n.deltaPopularity=0,n.previousPopularity=0,n.relationships={},n.targets=[n.id,n.id],n.powerRanking=0,n.superiors={},n.friends=0,n.enemies=0,n.targetingMe=0,Object.assign(Object(m.a)(Object(m.a)(n)),e),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"relationshipWith",value:function(e){return this.relationships[e.id]}}]),t}(function e(t){Object(c.a)(this,e),this.name="",this.imageURL="",this.castingScreenId=0,t&&Object.assign(this,t)}),w=n(10),j=n.n(w);function k(e){return e?Math.round(100*e):0}function O(e,t){var n=new Set,a=!0,r=!1,i=void 0;try{for(var o,c=t[Symbol.iterator]();!(a=(o=c.next()).done);a=!0){var s=o.value;e.has(s)&&n.add(s)}}catch(l){r=!0,i=l}finally{try{a||null==c.return||c.return()}finally{if(r)throw i}}return n}function S(e,t){var n=new Set(e),a=!0,r=!1,i=void 0;try{for(var o,c=t[Symbol.iterator]();!(a=(o=c.next()).done);a=!0){var s=o.value;n.delete(s)}}catch(l){r=!0,i=l}finally{try{a||null==c.return||c.return()}finally{if(r)throw i}}return n}function x(e){return null!==e&&void 0!==e}function C(e){return null===e||void 0===e}function N(e){var t=0;return e.forEach(function(e){return t+=Math.pow(e,2)}),t}function M(e,t){if(e.length!==t.length)throw new Error("Tried to get the angle between two vectors of non-equal length: ".concat(e.length," !== ").concat(t.length));return Math.acos(function(e,t){if(e.length!==t.length)throw new Error("Tried to get the dot product between two vectors of non-equal length: ".concat(e.length," !== ").concat(t.length));var n=0;return e.forEach(function(a,r){n+=e[r]*t[r]}),n}(e,t)/N(e)*N(t))}function P(e,t,n){for(var a=0;a<e.length&&t>0;)n(e[a])&&(t--,e.splice(a,1),a--),a++;return e}function A(e,t){for(var n={},a=0;a<e;a++)a!==t&&(n[a]=0);return n}var W=n(22),I=n(58),H=n(34);function L(e){var t=Math.round(e).toString(16);return 1==t.length?"0"+t:t}var R,T,D=function(){function e(t,n,a){Object(c.a)(this,e),this.r=void 0,this.g=void 0,this.b=void 0,this.r=t,this.g=n,this.b=a}return Object(s.a)(e,[{key:"toHex",value:function(){return"#"+L(this.r)+L(this.g)+L(this.b)}},{key:"toRgba",value:function(){return"rgba(".concat(this.r,", ").concat(this.g,", ").concat(this.b,", 1)")}}]),e}();function U(e,t,n){return new D(e.r+n*(t.r-e.r),e.g+n*(t.g-e.g),e.b+n*(t.b-e.b)).toHex()}!function(e){e.Friend="FRIEND",e.Queen="QUEEN",e.Pawn="PAWN",e.Enemy="ENEMY"}(R||(R={})),function(e){e.Friend="FRIEND",e.PawnQueen="PAWN/QUEEN",e.Enemy="ENEMY"}(T||(T={}));var F={FRIEND:"\u2665",ENEMY:"\ud83d\udc94",PAWN:"PAWN",QUEEN:"QUEEN"};function _(e,t,n){var a=n>e,r=n>t;return a&&r?R.Friend:a&&!r?R.Pawn:!a&&r?R.Queen:R.Enemy}function z(e,t,n){var a=n>e,r=n>t;return a&&r?T.Friend:a||r?T.PawnQueen:T.Enemy}function B(e){return 0===e.friends&&0===e.enemies&&0===e.popularity&&0===e.targetingMe||void 0===e.friends&&void 0===e.enemies}function V(e,t,n,a,i){var o=e.popularity;if(o&&(o>1||o<-1)&&(o=t.popularity),o&&!t.isEvicted){var c="".concat(k(o),"%"),s=function(e,t){if(k(e.popularity)!==k(t))return 0;return e.deltaPopularity?k(e.deltaPopularity):0}(t,o);if(n&&0!==s)c+="".concat(s>0?" | \u2191":" | \u2193"," ").concat(s,"%");a.push(r.a.createElement("div",{key:i++},c))}return i}function J(e,t,n){return Q(e)?t.push(r.a.createElement("div",{key:n++},"".concat(Q(e)))):t.push(r.a.createElement("br",{key:n++,style:{lineHeight:1}})),n}function Q(e){return"".concat(e.hohWins?"\u2654 ".concat(e.hohWins):"").concat(e.povWins&&e.hohWins?"|\ud83d\udec7 ".concat(e.povWins):e.povWins?"\ud83d\udec7 ".concat(e.povWins):"").concat((e.hohWins||e.povWins)&&e.nominations?"|":"").concat(e.nominations?"\u2718 ".concat(e.nominations):"")}var G=new D(252,137,137),q=new D(137,252,137),Y={minColor:G,maxColor:q,backgroundColor:function(e){var t=function(e){if(!e)return 0;var t=e*e;return e>=0?2*e-t:t+2*e}(e.popularity);return U(G,q,(t+1)/2)},generateSubtitle:function(e,t){var n=0,a=[],i=function(e,t,n){if(B(e))return{subtitle:t=t.concat(r.a.createElement("br",{key:n++})),key:n};if(e.isEvicted)t.push(r.a.createElement("br",{key:n++,style:{lineHeight:1}}));else{var a=En();if(a&&a.id!==e.id){var i=function(e,t){var n=[];return n.push(F[_(e.popularity||0,t.popularity,e.relationships[t.id])]),n}(e,a);t=t.concat(i.map(function(e){return r.a.createElement("div",{key:n++},e)}))}else{var o=function(e){var t=[],n=x(e.friends)&&x(e.enemies)?{friends:e.friends,enemies:e.enemies}:{friends:0,enemies:0};return t.push("".concat(n.friends," ").concat(F[R.Friend],"| ").concat(n.enemies," ").concat(F[R.Enemy]).concat(e.targetingMe?"| \ud83c\udfaf ".concat(e.targetingMe):"")),t}(e);t=t.concat(o.map(function(e){return r.a.createElement("div",{key:n++},e)}))}}return{subtitle:t,key:n}}(e,a,n=J(e,a,n=V(t,e,arguments.length>2&&void 0!==arguments[2]&&arguments[2],a,n)));return a=i.subtitle,n=i.key,a}},K=new D(255,204,94),X=new D(192,181,255),Z={minColor:X,maxColor:K,backgroundColor:function(e){var t=e.powerRanking;return void 0===t?"":U(X,K,t)},generateSubtitle:function(e,t,n){var a=0,i=[];if(a=J(e,i,a=V(t,e,!!n,i,a)),e.isEvicted||void 0===t.powerRanking)i.push(r.a.createElement("br",{key:a++,style:{lineHeight:1}}));else{var o=En();o&&o.id!==e.id?i.push(r.a.createElement("div",{key:a++},"WIN ".concat(k(t.powerRanking),"%"))):o&&o.id===e.id?i.push(r.a.createElement("div",{key:a++},"I WOULD")):i.push(r.a.createElement("div",{key:a++},"WIN ".concat(k(t.powerRanking),"%").concat(e.targetingMe?" | \ud83c\udfaf ".concat(e.targetingMe):"")))}return i}};function $(e){!e||En()&&En().id===e.id?bn.next(null):!e.superiors||On.value===Z&&0===Object.keys(e.superiors).length?bn.next(null):bn.next(e)}function ee(e){if(null!==e){var t=yn.value;t.has(e)?t.delete(e):t.add(e),yn.next(t)}else yn.next(new Set)}var te=new D(51,255,249),ne=function(){function e(t){var n=this;Object(c.a)(this,e),this.subs=[],this.view=void 0,this.refreshData=function(e){e?e.id!==n.view.props.id?n.view.setState({popularity:e.relationships[n.view.props.id],powerRanking:n.comparePowerRankings(e)}):n.view.setState({popularity:2,powerRanking:2}):n.view.setState(n.defaultState)},this.view=t}return Object(s.a)(e,[{key:"backgroundColor",value:function(e){if(B(e))return Object(w.shuffle)(["#ca9389","#cab389","#c0ca89","#cabb89","#c0ca89","#cabb89","#b9ca89","#98ca89"])[0];var t=En();return null!==t&&t.id===e.id?te.toHex():e.isEvicted?void 0:this.view.state.displayMode.backgroundColor(this.view.state)}},{key:"subscribe",value:function(){var e=this,t=[];t.push(bn.subscribe({next:this.refreshData})),t.push(On.subscribe({next:function(t){return e.view.setState({displayMode:t})}})),this.subs=t}},{key:"unsubscribe",value:function(){this.subs.forEach(function(e){return e.unsubscribe()})}},{key:"comparePowerRankings",value:function(e){if(!e.superiors)return 0;var t=void 0===this.view.props.id?-1:this.view.props.id;return e.superiors[t]}},{key:"defaultState",get:function(){return{popularity:this.view.props.popularity,displayMode:On.value,powerRanking:this.view.props.powerRanking}}}]),e}(),ae=n(2);function re(){var e=Object(b.a)(["\n    filter: sepia(100%);\n"]);return re=function(){return e},e}function ie(){var e=Object(b.a)(["\n    filter: grayscale(100%);\n"]);return ie=function(){return e},e}function oe(){var e=Object(b.a)(["\n    min-width: 100px;\n    width: 100%;\n    width: -moz-available; /* For Mozzila */\n    width: -webkit-fill-available; /* For Chrome */\n    width: stretch; /* Unprefixed */\n    -webkit-transition-property: none;\n    -moz-transition-property: none;\n    -o-transition-property: none;\n    transition-property: none;\n"]);return oe=function(){return e},e}function ce(){var e=Object(b.a)(["\n    font-weight: 100;\n    color: #c3ae88;\n    background-color: #5d5340;\n    filter: brightness(0.6);\n"]);return ce=function(){return e},e}function se(){var e=Object(b.a)(["\n    font-weight: 100;\n    color: grey;\n    background-color: #111111;\n"]);return se=function(){return e},e}function le(){var e=Object(b.a)(["\n    margin: 5px;\n    border: 1px solid ",";\n    color: black;\n    border-radius: 5px;\n    text-align: center;\n    font-weight: 600;\n    width: 7rem;\n    word-wrap: break-word;\n    -webkit-transition-property: none;\n    -moz-transition-property: none;\n    -o-transition-property: none;\n    transition-property: none;\n"]);return le=function(){return e},e}function ue(){var e=Object(b.a)(["\n    font-weight: 100;\n    font-size: small;\n"]);return ue=function(){return e},e}var he=ae.c.small(ue()),me=ae.c.div(le(),function(e){return e.theme.portraitBorder}),de=Object(ae.c)(me)(se()),fe=Object(ae.c)(me)(ce()),pe=ae.c.img(oe()),ve=Object(ae.c)(pe)(ie()),ge=Object(ae.c)(pe)(re()),be=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).controller=void 0,n.controller=new ne(Object(m.a)(Object(m.a)(n))),n.state=n.controller.defaultState,n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){C(this.props.id)||this.controller.subscribe()}},{key:"componentWillUnmount",value:function(){this.controller.unsubscribe()}},{key:"onClick",value:function(){!C(this.props.id)&&this.props.relationships&&$({id:this.props.id,relationships:this.props.relationships,isEvicted:!!this.props.isEvicted,popularity:this.props.popularity||0,superiors:this.props.superiors})}},{key:"render",value:function(){var e,t=this,n=this.props,a=function(e){var t=e.isEvicted?ve:pe;return t=e.isJury?ge:t}(n);e=this.state.displayMode.generateSubtitle(this.props,this.state,!!n.detailed);var i=me;return n.isJury?i=fe:n.isEvicted&&(i=de),r.a.createElement(i,{onClick:function(){return t.onClick()},style:{backgroundColor:this.controller.backgroundColor(n)}},r.a.createElement(a,{src:n.imageURL,style:{height:100,width:"-moz-available"}}),r.a.createElement("br",null),n.name,r.a.createElement("br",null),r.a.createElement(he,null,e))}}]),t}(r.a.Component);function Ee(e,t){return r.a.createElement(be,Object.assign({},e,{key:t,detailed:!1}))}var ye=n(30),we=n.n(ye);function je(){var e=Object(b.a)(["\n    max-width: 200px;\n    padding: 3px 8px;\n    color: #fff;\n    text-align: center;\n    background-color: #000;\n    border-radius: 4px;\n"]);return je=function(){return e},e}var ke=ae.c.p(je()),Oe=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={visible:!1},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(we.a,{position:["top","bottom"],isOpen:this.state.visible,content:r.a.createElement(ke,null,this.props.text)},r.a.createElement("div",{onMouseEnter:function(){return e.setState({visible:!0})},onMouseLeave:function(){return e.setState({visible:!1})}},this.props.children))}}]),t}(r.a.Component),Se=-1;function xe(e){return r.a.createElement("div",{key:Se++,className:"columns is-gapless is-mobile is-multiline ".concat(e.centered?"is-centered":"")},e.children)}function Ce(e){var t=r.a.createElement(xe,{centered:e.centered},Ee(e.houseguest));return e.houseguest.tooltip?r.a.createElement(xe,{centered:e.centered},r.a.createElement(Oe,{text:e.houseguest.tooltip},Ee(e.houseguest))):t}function Ne(e){var t=[];return e.houseguests&&0!==e.houseguests.length?(e.houseguests.forEach(function(n){var a;a="\u2b05\ufe0f"===n||"\u27a1\ufe0f"===n?r.a.createElement("div",{key:"plus-".concat(Se++),style:{display:"flex",justifyContent:"center",alignItems:"center"},className:"column is-narrow"},r.a.createElement("p",null,n)):e.detailed?function(e,t){return r.a.createElement(be,Object.assign({},e,{key:t,detailed:!0}))}(n,Se++):Ee(n,Se++),"\u2b05\ufe0f"!==n&&"\u27a1\ufe0f"!==n&&n.tooltip&&(a=r.a.createElement(Oe,{key:Se++,text:n.tooltip},a)),t.push(a)}),r.a.createElement("div",{className:"columns is-gapless is-mobile is-multiline ".concat(e.centered&&"is-centered")},t)):r.a.createElement("div",null)}function Me(e){return e.houseguests&&0!==e.houseguests.length?r.a.createElement("div",{style:{margin:"auto",maxWidth:e.houseguests.length<26?800:-1}},r.a.createElement(Ne,{houseguests:e.houseguests,centered:!0,detailed:!0})):r.a.createElement("div",null)}function Pe(){return r.a.createElement("button",{className:"button is-primary",onClick:function(){return pn(1)}},"Continue")}var Ae=n(31);function We(){var e=Object(b.a)(["\n    color: #300808;\n    width: 50%;\n\n    :active {\n        color: #ff7133;\n        background-color: #ffd8c7;\n    }\n    :hover {\n        color: orange;\n        background-color: #fff6e1;\n    }\n"]);return We=function(){return e},e}function Ie(){var e=Object(b.a)(["\n    color: #300808;\n    width: 50%;\n\n    :active {\n        color: #ff7133;\n        background-color: #ffd8c7;\n    }\n    :hover {\n        color: red;\n        background-color: #ffe1ea;\n    }\n"]);return Ie=function(){return e},e}function He(){var e=Object(b.a)(["\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n"]);return He=function(){return e},e}function Le(){var e=Object(b.a)(["\n    padding: 5px;\n    margin: 5px;\n    border: 1px solid grey;\n    background-color: grey;\n    color: black;\n    border-radius: 5px;\n    font-weight: 600;\n    width: 7rem;\n    word-wrap: break-word;\n"]);return Le=function(){return e},e}var Re=ae.c.div(Le()),Te=ae.c.div(He()),De=Object(ae.c)(Te)(Ie()),Ue=Object(ae.c)(Te)(We()),Fe=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={name:e.name},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({name:e.name})}},{key:"render",value:function(){var e=this,t=this.props.selected?{backgroundColor:te.toHex()}:{};return r.a.createElement(Re,{onClick:function(){return e.props.onClick()},style:t},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("div",{style:{maxHeight:20,display:"flex"}},r.a.createElement(De,{onDoubleClick:function(){return e.props.onDelete()},onClick:function(e){return e.stopPropagation()}},"\u2718"),r.a.createElement(Ue,{onClick:function(t){t.stopPropagation(),e.props.onRename()}},"\u270e")),r.a.createElement("img",{src:this.props.imageUrl,style:{width:100,height:100}}),r.a.createElement("br",null),r.a.createElement("p",null,this.state.name)))}}]),t}(r.a.Component);function _e(){var e=Object(b.a)(["\n    width: 3em;\n    marginleft: 5px;\n"]);return _e=function(){return e},e}var ze=ae.c.input(_e());function Be(e){var t=e.style||{};return r.a.createElement(ze,{type:"text",className:"input".concat(e.className?" ".concat(e.className):""),style:t,value:e.value,placeholder:e.placeholder||"",onChange:function(t){var n=t.target.value;/^\d*$/g.test(n)&&e.onChange(n)}})}function Ve(e){var t=Object(a.useState)("16"),n=Object(g.a)(t,2),i=n[0],o=n[1];return r.a.createElement("div",{className:"field has-addons",style:{display:"flex"}},r.a.createElement("div",{className:"control"},r.a.createElement("button",{disabled:""===i,className:"button is-primary",onClick:function(){return e.random(parseInt(i))}},"Random")),r.a.createElement("div",{className:"control"},r.a.createElement(Be,{value:i,onChange:o})))}function Je(){var e=Object(b.a)(["\n    color: ",";\n"]);return Je=function(){return e},e}function Qe(){var e=Object(b.a)(["\n    color: ",";\n"]);return Qe=function(){return e},e}var Ge=ae.c.div(Qe(),function(e){return e.theme.text}),qe=ae.c.input(Je(),function(e){return e.theme.text});function Ye(){var e=Object(b.a)(["\n    text-align: center;\n    color: ",";\n"]);return Ye=function(){return e},e}function Ke(){var e=Object(b.a)(["\n    text-align: center;\n    color: ",";\n"]);return Ke=function(){return e},e}var Xe=ae.c.div(Ke(),function(e){return e.theme.text}),Ze=ae.c.p(Ye(),function(e){return e.theme.text});function $e(e){return e.noMargin?r.a.createElement(Xe,null,e.children):r.a.createElement(Ze,{className:e.className||"",style:e.style||{}},e.children)}function et(e){return r.a.createElement($e,{className:e.className||"",style:e.style||{},noMargin:e.noMargin},r.a.createElement("b",null,e.children," "))}function tt(e){return r.a.createElement($e,{className:e.className||"",style:e.style||{},noMargin:e.noMargin},r.a.createElement("i",null,e.children," "))}function nt(){var e=Object(b.a)(["\n    color: ",";\n    cursor: pointer;\n    font-weight: bold;\n    margin-top: 10px;\n    margin-bottom: 10px;\n"]);return nt=function(){return e},e}var at=ae.c.a(nt(),function(e){return e.theme.link});function rt(e){if(!fa(e.gameState))return r.a.createElement(Ge,null,r.a.createElement($e,null,"\u26a0\ufe0f There are too many players left in the game to display the alliances! Try again when there are 30 or less! \u26a0\ufe0f"));var t=e.gameState.cliques.map(function(t,n){if(C(t.affiliates))return r.a.createElement(Ne,{centered:!0,detailed:!0,key:"".concat(t,", ").concat(n,", ").concat(e.gameState.phase),houseguests:t.core.map(function(t){return An(e.gameState,t)})});var a=[].concat(Object(E.a)(t.affiliates[0]),["\u27a1\ufe0f"],Object(E.a)(t.core),["\u2b05\ufe0f"],Object(E.a)(t.affiliates[1]));return r.a.createElement(Ne,{centered:!0,detailed:!0,key:"".concat(t,", ").concat(n,", ").concat(e.gameState.phase),houseguests:a.map(function(t){return"\u2b05\ufe0f"===t?"\u2b05\ufe0f":"\u27a1\ufe0f"===t?"\u27a1\ufe0f":An(e.gameState,t)})})});return r.a.createElement("div",null,t,e.gameState.phase<3&&r.a.createElement(at,{href:"https://github.com/spaulmark/bb-bots/blob/master/README.md#understanding-alliances-or-what-do-the-arrows-mean",target:"_blank",rel:"noopener noreferrer"},"What do the arrows mean?"))}var it=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).subs=[],n.state={tab:kn.value},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.subs.push(kn.subscribe(function(t){return e.setState({tab:t})}))}},{key:"componentWillUnmount",value:function(){this.subs.forEach(function(e){return e.unsubscribe()})}},{key:"render",value:function(){var e=1===this.props.gameState.phase?r.a.createElement("div",{key:"helptext1",style:{marginTop:10}},r.a.createElement("b",null,"Try clicking on houseguests to view their relationships.")," ",r.a.createElement("br",null)):null,t=2===this.props.gameState.phase?r.a.createElement(at,{key:"helptext2",href:"https://github.com/spaulmark/bb-bots/blob/master/README.md#understanding-relationships",target:"_blank",rel:"noopener noreferrer"},"What do the \ud83d\udec7 \u2718 \u2665 \ud83d\udc94 \ud83c\udfaf symbols mean?"):null;return 0===this.state.tab?[r.a.createElement(Me,{key:"memorywall",houseguests:this.props.gameState.houseguests}),e,t]:r.a.createElement(rt,{gameState:this.props.gameState})}}]),t}(r.a.Component);var ot=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).sub=null,n.state={selected:e.mode===On.value},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.sub=On.subscribe({next:function(t){t!==e.props.mode?e.setState({selected:!1}):e.setState({selected:!0})}})}},{key:"componentWillUnmount",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"render",value:function(){var e,t,n=this,a=(e=this.props).disabled?{}:{background:"linear-gradient(90deg, ".concat(e.mode.minColor.toRgba()," 0%, ").concat(e.mode.maxColor.toRgba()," 100%)"),cursor:"pointer"};return r.a.createElement("span",{className:"level-item tag is-medium is-light",style:a,onClick:function(){!n.props.disabled&&function(e){if(e===Z){var t=En();!t||t.superiors&&0!==Object.keys(t.superiors).length||bn.next(null)}On.next(e)}(n.props.mode),!n.props.disabled&&n.setState({selected:!0})}},(t=this.props.text,this.state.selected?r.a.createElement("b",null,t):r.a.createElement("i",null,t)))}}]),t}(r.a.Component);var ct=function(e){function t(e){var n;return Object(c.a)(this,t),Rn((n=Object(l.a)(this,Object(u.a)(t).call(this,e))).props.gameState)||On.value!==Z||On.next(Y),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){Rn(this.props.gameState)||On.value!==Z||On.next(Y)}},{key:"render",value:function(){return r.a.createElement("div",{className:"level is-mobile",key:"viewsbar",style:{marginBottom:0}},r.a.createElement(ot,{mode:Y,text:"Relationships"}),Rn(this.props.gameState)&&r.a.createElement(ot,{mode:Z,text:"Endgame Winrate"}))}}]),t}(r.a.Component),st=function(){function e(t){Object(c.a)(this,e),this.scenes=void 0,this.title=void 0,this.content=void 0,this.gameState=void 0,this.initialGameState=void 0,this.type=void 0,this.arrowsEnabled=!0,this.scenes=t.scenes,this.title=t.title,this.content=t.content,this.gameState=t.gameState,this.initialGameState=t.initialGamestate||t.gameState,this.type=t.type}return Object(s.a)(e,[{key:"render",get:function(){var e=this.type.hasViewsbar?r.a.createElement(ct,{gameState:this.scenes[0].gameState}):null;return r.a.createElement("div",null,e,this.content)}}]),e}(),lt=function e(t){Object(c.a)(this,e),this.title="",this.gameState=new Fn({players:[],jury:-1}),this.content=r.a.createElement("div",null,"Error while rendering ".concat(this.title)),this.render=void 0,Object.assign(this,t),this.render=r.a.createElement("div",null,r.a.createElement(ct,{gameState:this.gameState}),this.content)},ut={canPlayWith:function(e){return e>=5},eliminates:2,arrowsEnabled:!0,hasViewsbar:!0,name:"Double Eviction",generate:function(e){var t=er(e),n=t.gameState,a=t.scenes;n.incrementLogIndex();var i=er(n,!0);n=i.gameState,a.push(new lt({title:"Double Eviction",content:r.a.createElement("div",null,i.scenes.map(function(e){return e.content})),gameState:i.gameState}));var o=r.a.createElement(Ge,null,r.a.createElement(Za,null),r.a.createElement(it,{gameState:e}),r.a.createElement("br",null),r.a.createElement(Pe,null)),c=new Fn(n);return new ht({gameState:c,content:o,title:t.title,scenes:a,type:ut})}},ht=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).title=void 0,n.scenes=void 0,n.content=void 0,n.gameState=void 0,n.type=ut,n.title=e.title,n.scenes=e.scenes,n.content=e.content,n.gameState=e.gameState,n}return Object(h.a)(t,e),t}(st);var mt={eliminates:0,canPlayWith:function(e){return e>2},arrowsEnabled:!0,hasViewsbar:!1,name:"Pregame",generate:function(e){return new dt(e)}},dt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,{title:"Pregame",scenes:[],content:r.a.createElement(ln,{cast:e.houseguests}),gameState:e,type:mt}))).title="Pregame",n.scenes=[],n.content=void 0,n.gameState=void 0,n.type=mt,n.gameState=e,n.content=r.a.createElement(ln,{cast:e.houseguests}),n}return Object(h.a)(t,e),t}(st),ft=n(20),pt=new H.a,vt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).subs=void 0,n.state={twistCount:0,twistCapacity:kt.value},n.subs=[],n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.subs.push(kt.subscribe(function(t){return e.setState({twistCapacity:t})}))}},{key:"componentWillUnmount",value:function(){this.subs.forEach(function(e){return e.unsubscribe()})}},{key:"render",value:function(){var e=this,t=this.state.twistCount;return r.a.createElement("div",{className:"column is-narrow"},r.a.createElement("div",{className:"field has-addons has-addons-centered"},r.a.createElement("p",{className:"field-label is-normal control",style:{textAlign:"right",marginRight:"1em"}},r.a.createElement(Nt,{className:"label"},this.props.type.name)),r.a.createElement("p",{className:"control"},r.a.createElement("button",{className:"button is-danger",disabled:0===t,onClick:function(){pt.next({type:e.props.type,add:!1}),e.setState({twistCount:t-1})}},"-")),r.a.createElement("p",{className:"control"},r.a.createElement(ze,{className:"input",readOnly:!0,value:"".concat(t)})),r.a.createElement("p",{className:"control"},r.a.createElement("button",{className:"button is-success",onClick:function(){pt.next({type:e.props.type,add:!0}),e.setState({twistCount:t+1})},disabled:this.state.twistCapacity<this.props.type.eliminates},"+"))))}}]),t}(r.a.Component);function gt(){var e=Object(b.a)(["\n    padding: 10px;\n    border-radius: 6px;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n    background: #444346;\n    margin: 0 0 3px 0;\n    border: 1px solid #6c6c6c;\n    display: grid;\n    flex-direction: column;\n    color: #fff;\n"]);return gt=function(){return e},e}var bt=ae.c.div(gt()),Et=[],yt=0;function wt(){for(var e={},t=yt,n=Et,a=0;a<n.length;a++){var r=n[a];r.episode!==Ya&&(e[t]=r.episode),t-=r.episode.eliminates}return e}var jt=function(e){var t=e.item,n=e.provided,a=e.snapshot;return r.a.createElement(bt,Object.assign({ref:n.innerRef,snapshot:a},n.draggableProps,n.dragHandleProps),r.a.createElement("span",null,"".concat(t.weekText).concat(t.episode!==Ya?" | ".concat(t.episode.name):"")))},kt=new I.a(0),Ot=function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).id=0,n.subs=[],yt=e.castSize;for(var a=[],r=0,i=e.castSize;i>3;i--)r++,a.push({id:(n.id++).toString(),weekText:"Week ".concat(r,": F").concat(i),episode:Ya});return Et=a,n.state={items:a},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"maxCapacity",value:function(){return this.props.castSize-3}},{key:"updateTwistCapacity",value:function(e){kt.next(e)}},{key:"addRemoveTwist",value:function(e){if(this.updateTwistCapacity(e.add?Object(w.min)([kt.value-e.type.eliminates,this.maxCapacity()])||0:kt.value+e.type.eliminates),e.add){var t=Array.from(this.state.items);P(t,e.type.eliminates,function(e){return e.episode===Ya}),t.unshift({id:(this.id++).toString(),weekText:"error lol",episode:e.type}),this.refreshItems(t)}else{var n=Array.from(this.state.items);P(n,1,function(t){return t.episode===e.type}),this.refreshItems(n)}}},{key:"componentDidMount",value:function(){var e=this;kt.next(this.maxCapacity()),this.subs.push(pt.subscribe(function(t){return e.addRemoveTwist(t)}))}},{key:"componentWillUnmount",value:function(){this.subs.forEach(function(e){return e.unsubscribe()})}},{key:"refreshItems",value:function(e){var t=[],n=0,a=this.props.castSize,r=!0,i=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done);r=!0){var l=c.value,u=l.episode.canPlayWith(a);u&&n++,l.weekText="".concat(u?"Week ".concat(n,": F").concat(a):"N/A"),u&&(a-=l.episode.eliminates),(u||l.episode!==Ya)&&t.push(l)}}catch(h){i=!0,o=h}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}if(a>3)for(;a>3;)n++,t.unshift({id:(this.id++).toString(),weekText:"Week ".concat(n,": F").concat(a),episode:Ya}),a--;Et=t,this.setState({items:t})}},{key:"render",value:function(){var e=this,t=this.state.items;return r.a.createElement(ft.a,{onDragEnd:function(t){if(t.destination){var n=Array.from(e.state.items),a=n.splice(t.source.index,1),r=Object(g.a)(a,1)[0];n.splice(t.destination.index,0,r),e.refreshItems(n)}}},r.a.createElement(ft.c,{droppableId:"droppable"},function(e){return r.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef}),t.map(function(e,t){return r.a.createElement(ft.b,{key:e.id,draggableId:e.id,index:t},function(t,n){return r.a.createElement(jt,{provided:t,snapshot:n,item:e})})}),e.placeholder)}))}}]),t}(r.a.Component);function St(){var e=Object(b.a)(["\n    color: #fff;\n"]);return St=function(){return e},e}function xt(){var e=Object(b.a)(["\n    text-align: center;\n    color: #fff;\n"]);return xt=function(){return e},e}var Ct=ae.c.h3(xt()),Nt=ae.c.label(St()),Mt=[ut],Pt=function(){var e=Object(v.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return vn.next(wt()),hn.next(r.a.createElement(ln,{cast:gn.value})),$(null),e.next=5,fn(null);case 5:return e.next=7,fn(new dt(new Fn({players:gn.value,jury:t})));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function At(){var e=gn.value.length,t=Object(a.useState)("".concat(Tn(e))),n=Object(g.a)(t,2),i=n[0],o=n[1],c=Dn(parseInt(i),e);return r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-one-quarter"},r.a.createElement(Ge,null,r.a.createElement("h3",{style:{textAlign:"center"}},"Season Overview")),r.a.createElement("hr",null),r.a.createElement(Te,null,r.a.createElement(Ot,{castSize:e}))),r.a.createElement("div",{className:"column",style:{padding:20}},r.a.createElement(Ct,null,"Add Twists"),r.a.createElement("hr",null),r.a.createElement("div",{className:"columns is-multiline is-centered"},Mt.map(function(e){return r.a.createElement(vt,{type:e,key:e.name})})),r.a.createElement(Ge,{className:"field is-horizontal centered"},r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement(Nt,{className:"label",style:c?{}:{color:"#fb8a8a"}},"Jury Size:")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement(Be,{className:c?void 0:"is-danger",value:i,onChange:o,placeholder:"".concat(Tn(e))})),r.a.createElement("p",{className:"help",style:c?{}:{color:"#fb8a8a"}},c?"(Jury starts at F".concat(parseInt(i)+2,")"):"Jury must be an odd number < ".concat(e-2)))))),r.a.createElement("div",{className:"column is-narrow",style:{padding:40}},r.a.createElement("button",{className:"button is-success",style:{float:"right"},onClick:function(){Pt(parseInt(i))},disabled:!c},"Submit")))}var Wt=1,It=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).sub=null,n.appendProfiles=function(e){var t=Object(d.a)({},n.state);e.forEach(function(e){return t.players.push(e)}),n.setState(t)},n.submit=function(){var e;e=n.state.players,gn.next(e),hn.next(r.a.createElement(At,null))},n.random=function(e){var t=[],a=e,r=n.state.players,i=[];r.forEach(function(e){n.state.selectedPlayers.has(e.castingScreenId||-1)?(t.push(e),a--):i.push(e)}),a>0&&(i=(i=Object(w.shuffle)(i)).slice(0,a));var o=a>0?t.concat(i):t;o=Object(w.shuffle)(o),n.setState({players:o})},n.handleUpload=function(e){n.handleFiles(e.target.files)},n.handleDrop=function(e){e&&n.handleFiles(e)},e.cast&&(ee(null),e.cast.forEach(function(e){return e.castingScreenId=Wt++})),n.state={players:e.cast||[],selectedPlayers:new Set},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.sub=yn.subscribe(function(t){e.setState({selectedPlayers:t})})}},{key:"componentWillUnmount",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"deleteMethod",value:function(e,t){var n=this;return function(){var a=Object(d.a)({},n.state);a.players.splice(e,1),a.selectedPlayers.has(t)&&ee(t),n.setState(a)}}},{key:"rename",value:function(e){var t=this;return function(){var n=Object(d.a)({},t.state),a=prompt("Enter a new name for ".concat(n.players[e].name));a&&(n.players[e].name=a,t.setState(n))}}},{key:"getFiles",value:function(){var e=this,t=this.state.players;if(t){var n=[],a=0;return t.forEach(function(t){return n.push(r.a.createElement(Fe,{name:t.name,imageUrl:t.imageURL,onDelete:e.deleteMethod(a,t.castingScreenId||-1),onClick:function(){ee(t.castingScreenId||-1)},onRename:e.rename(a),selected:e.state.selectedPlayers.has(t.castingScreenId||-1),key:(++a).toString()}))}),r.a.createElement("div",{className:"columns is-gapless is-mobile is-multiline is-centered"},n)}}},{key:"render",value:function(){var e=this;return r.a.createElement(Ae.a,{onDrop:this.handleDrop},r.a.createElement(Ge,{className:"level"},r.a.createElement("div",{className:"level-item"},r.a.createElement("button",{className:"button is-danger",onClick:function(){e.setState({players:[]}),ee(null)}},"Delete all")),r.a.createElement("div",{className:"level-item"},r.a.createElement("button",{className:"button is-danger",disabled:0===this.state.selectedPlayers.size,onClick:function(){var t=e.state.players.filter(function(t){return!e.state.selectedPlayers.has(t.castingScreenId||-1)});e.setState({players:t}),ee(null)}},"Delete selected")),r.a.createElement("div",{className:"level-item"},r.a.createElement("button",{className:"button is-warning",onClick:function(){return ee(null)},disabled:0===this.state.selectedPlayers.size},"Unselect ",this.state.selectedPlayers.size||"all")),r.a.createElement("div",{className:"level-item"},r.a.createElement(Ve,{random:this.random})),r.a.createElement("div",{className:"level-item"},r.a.createElement("button",{className:"button is-success",disabled:this.state.players.length<3,onClick:this.submit},"Next"))),r.a.createElement(qe,{type:"file",multiple:!0,onChange:this.handleUpload}),0===this.state.players.length&&r.a.createElement($e,null,"~ Drop images here ~",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(at,{href:"https://github.com/spaulmark/bb-bots/blob/master/README.md#choose-a-cast-of-characters",target:"_blank",rel:"noopener noreferrer"},"Need help setting up a game?")),this.getFiles())}},{key:"handleFiles",value:function(e){for(var t=Object(d.a)({},this.state),n=0;n<e.length;n++){var a=e[n];a.type.match(/image\/*/)&&t.players.push({name:a.name.substr(0,a.name.lastIndexOf("."))||a.name,imageURL:URL.createObjectURL(a),castingScreenId:Wt++})}this.setState(t)}}]),t}(r.a.Component);function Ht(){var e=Object(b.a)(["\n    margin-left: 3px;\n    margin-right: 3px;\n    margin-bottom: 3px;\n    background: ",";\n"]);return Ht=function(){return e},e}function Lt(){var e=Object(b.a)(["\n    box-shadow: ",";\n    border-radius: 6px;\n    margin-left: 3px;\n    margin-top: 3px;\n    margin-right: 3px;\n    background: ",";\n"]);return Lt=function(){return e},e}var Rt=ae.c.div(Lt(),function(e){return"light"===e.theme.name?"0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1)":""},function(e){return e.theme.overlay}),Tt=ae.c.div(Ht(),function(e){return e.theme.bodyArea});function Dt(e){return r.a.createElement(Rt,{className:e.className||""},e.children)}function Ut(e){return r.a.createElement(Tt,{style:e.style,className:"box ".concat(e.className||"")},e.children)}var Ft=n(33),_t=n.n(Ft);function zt(){var e=Object(b.a)(["\n    margin-left: 1rem;\n"]);return zt=function(){return e},e}function Bt(){var e=Object(b.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return Bt=function(){return e},e}function Vt(){var e=Object(b.a)(["\n    display: flex;\n    cursor: pointer;\n    align-items: center;\n    :hover {\n        color: red;\n        background-color: #ffe1ea;\n    }\n"]);return Vt=function(){return e},e}var Jt=26,Qt="https://spaulmark.github.io/img/",Gt={},qt=Object(ae.c)(Ge)(Vt()),Yt=ae.c.div(Bt()),Kt=ae.c.p(zt());function Xt(){return(Xt=Object(v.a)(p.a.mark(function e(t){var n,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Gt[t]){e.next=2;break}return e.abrupt("return",Gt[t]);case 2:return e.next=4,fetch("".concat(Qt).concat(t,"/dir.json"));case 4:return e.next=6,e.sent.json();case 6:return n=e.sent,a=j.a.sample(n.files),Gt[t]="".concat(Qt).concat(t,"/").concat(a),e.abrupt("return","".concat(Qt).concat(t,"/").concat(a));case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Zt(){return(Zt=Object(v.a)(p.a.mark(function e(t){var n,a,i,o,c,s,l;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=!0,i=!1,o=void 0,e.prev=4,c=p.a.mark(function e(){var t,a,r,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.value,e.next=3,fetch("".concat(Qt).concat(t,"/dir.json"));case 3:return e.next=5,e.sent.json();case 5:a=e.sent,r=a.files.map(function(e){return{name:e,url:"".concat(Qt).concat(t,"/").concat(e)}}),i=r.map(function(e){return{name:e.name.substr(0,e.name.lastIndexOf("."))||e.name,imageURL:e.url}}),n.push.apply(n,Object(E.a)(i));case 9:case"end":return e.stop()}},e)}),s=t[Symbol.iterator]();case 7:if(a=(l=s.next()).done){e.next=12;break}return e.delegateYield(c(),"t0",9);case 9:a=!0,e.next=7;break;case 12:e.next=18;break;case 14:e.prev=14,e.t1=e.catch(4),i=!0,o=e.t1;case 18:e.prev=18,e.prev=19,a||null==s.return||s.return();case 21:if(e.prev=21,!i){e.next=24;break}throw o;case 24:return e.finish(21);case 25:return e.finish(18);case 26:hn.next(r.a.createElement(It,{cast:n}));case 27:case"end":return e.stop()}},e,null,[[4,14,18,26],[19,,21,25]])}))).apply(this,arguments)}function $t(e){var t=r.a.useState(""),n=Object(g.a)(t,2),a=n[0],i=n[1],o=r.a.useState(!0),c=Object(g.a)(o,2),s=c[0],l=c[1],u=e.deck;s&&function(e){return Xt.apply(this,arguments)}(u).then(function(e){l(!1),i(e)});var h=e.selected?{backgroundColor:te.toHex(),color:"black"}:{};return r.a.createElement(qt,{className:"column is-6",onClick:function(){return jn(e.deck)},style:h},r.a.createElement("img",{src:a,style:{width:50,height:50}}),r.a.createElement(Kt,null,u))}function en(e){for(var t=[],n=e.i,a=e.data,i=n*Jt,o=i;o<i+Jt;o++){var c=a[o];c&&t.push(r.a.createElement($t,{selected:e.selected.has(c),key:"".concat(c,"__").concat(n,"__").concat(o),deck:c}))}return r.a.createElement("div",{key:"__ul__",className:"columns is-multiline"},t)}var tn=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).subs=[],n.handlePageClick=function(e){n.setState({i:e.selected})},n.debounceSearch=Object(w.debounce)(function(e){n.setState({debouncedSearchText:e,i:0})},250),n.handleSearch=function(e){n.setState({searchText:e.target.value}),n.debounceSearch(e.target.value)},n.state={loading:!0,decks:[],selectedDecks:new Set,i:0,debouncedSearchText:"",searchText:""},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(p.a.mark(function e(){var t,n=this;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return jn(null),this.subs.push(wn.subscribe(function(e){return n.setState({selectedDecks:e})})),e.next=4,fetch("https://spaulmark.github.io/img/dir.json");case 4:return e.next=6,e.sent.json();case 6:t=e.sent,this.setState({decks:Object(w.shuffle)(t.decks),selectedDecks:new Set,loading:!1});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.subs.forEach(function(e){return e.unsubscribe()})}},{key:"render",value:function(){var e=this;if(this.state.loading)return r.a.createElement("div",null);var t=this.state.decks.filter(function(t){return t.toLowerCase().match(e.state.debouncedSearchText.toLowerCase())});return r.a.createElement("div",null,r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-item"},r.a.createElement("input",{style:{minWidth:"50%"},className:"input",type:"text",placeholder:"Search...",onChange:this.handleSearch,value:this.state.searchText})),r.a.createElement("div",{className:"level-item"},r.a.createElement("button",{className:"button is-warning",onClick:function(){return jn(null)},disabled:0===this.state.selectedDecks.size},"Unselect All")),r.a.createElement("div",{className:"level-item"},r.a.createElement(Ge,null,"".concat(this.state.selectedDecks.size," casts selected"))),r.a.createElement("div",{className:"level-item"},r.a.createElement("button",{className:"button is-success",disabled:0===this.state.selectedDecks.size,onClick:function(){return function(e){return Zt.apply(this,arguments)}(e.state.selectedDecks)}},"Next"))),r.a.createElement(en,{key:"comments",selected:this.state.selectedDecks,data:t,i:this.state.i}),r.a.createElement(Yt,null,r.a.createElement(_t.a,{key:"__list__",previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:Object(w.ceil)(t.length/Jt),marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:this.handlePageClick,containerClassName:"pagination",activeClassName:"active"})))}}]),t}(r.a.Component);function nn(){var e=Object(b.a)(["\n    color: ",";\n    cursor: pointer;\n"]);return nn=function(){return e},e}var an=ae.c.div(nn(),function(e){return e.theme.link});function rn(){return r.a.createElement(an,{onClick:function(){hn.next(r.a.createElement(It,{cast:JSON.parse(JSON.stringify(gn.value))}))}},"Edit / Upload Cast")}function on(){return r.a.createElement(an,{onClick:function(){hn.next(r.a.createElement(At,null))}},"Edit Season/Twists")}function cn(){return r.a.createElement(an,{onClick:function(){hn.next(r.a.createElement(tn,null))}},"Choose Cast")}function sn(e){var t=Object(d.a)({},e.style||{});return r.a.createElement(Ut,{className:"level is-mobile",style:t},r.a.createElement("div",{className:"level-item"},r.a.createElement(cn,null)),r.a.createElement("div",{className:"level-item"},r.a.createElement(rn,null)),r.a.createElement("div",{className:"level-item"},r.a.createElement(on,null)))}var ln=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){On.next(Y)}},{key:"render",value:function(){var e=this.props;return 0===e.cast.length?r.a.createElement(Ge,null,"Cast is empty. ",r.a.createElement(cn,null)):r.a.createElement(Ge,null,r.a.createElement("h2",{style:{color:te.toHex(),textShadow:"rgb(114, 46, 123) 2px 2px 0px",textAlign:"center"}},"Big Brother Bots"),r.a.createElement(Me,{houseguests:e.cast}),r.a.createElement("p",null,r.a.createElement("b",null," ","You can use the <- and -> arrow keys to move forwards and backwards.")),r.a.createElement(Pe,null))}}]),t}(r.a.Component),un=Object(w.shuffle)(["Betty","Hermon","Josh","Melina","Tynesha","Jacey Lynne","Kevin","Moose","Gino","Jay","Kyle","Stephanie","Haleena","Jess","Marty","Summer"]).map(function(e){return{name:e,imageURL:"".concat("https://spaulmark.github.io/img//Big%20Brother%20Canada%2010/").concat(e,".jpg")}}),hn=new I.a(r.a.createElement(ln,{cast:un})),mn=new I.a(null),dn=new H.a;function fn(e){mn.next(e)}function pn(e){dn.next(e)}var vn=new H.a,gn=new I.a(un);var bn=new I.a(null);function En(){return bn.value}var yn=new I.a(new Set);var wn=new I.a(new Set);function jn(e){if(null!==e){var t=wn.value;t.has(e)?t.delete(e):t.add(e),wn.next(t)}else wn.next(new Set)}var kn=new I.a(0),On=new I.a(Y),Sn=new I.a(!1),xn=new H.a,Cn=function(){function e(t){Object(c.a)(this,e),this.rng=void 0,this.rng=W.a.xorshift128plus(t)}return Object(s.a)(e,[{key:"randomFloat",value:function(){var e,t=this.rng.next(),n=Object(g.a)(t,2);return e=n[0],this.rng=n[1],e/2147483647}},{key:"randomInt",value:function(e,t){var n,a=W.a.uniformIntDistribution(e,t,this.rng),r=Object(g.a)(a,2);return n=r[0],this.rng=r[1],n}},{key:"flipCoin",value:function(){var e,t=this.rng.next(),n=Object(g.a)(t,2);return e=n[0],this.rng=n[1],e%2===0}},{key:"seed",value:function(e){this.rng=W.a.xorshift128plus(e)}}]),e}();function Nn(){return Mn.value}var Mn=new I.a(new Cn(0)),Pn=(gn.subscribe({next:function(e){var t="";e.forEach(function(e){return t+=e.name}),Mn.next(new Cn(function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n}(t)))}}),function e(){Object(c.a)(this,e),this.nominationsPreVeto=[],this.vetoWinner=void 0,this.winner=void 0,this.runnerUp=void 0,this.nominationsPostVeto=[],this.evicted=-1,this.votes={},this.votesInMajority=-1,this.outOf=-1,this.soleVoter=void 0});function An(e,t){return e.houseguestCache[t]}function Wn(e,t){var n=t.map(function(e){return e.id});return e.filter(function(e){return!n.includes(e.id)&&!e.isEvicted})}function In(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===e.length)throw new Error("Tried to get a random player from a list of 0 players.");var n=Wn(e,t);return n[Nn().randomInt(0,n.length-1)]}function Hn(e){return Object(E.a)(e.nonEvictedHouseguests.entries()).map(function(t){var n=Object(g.a)(t,2),a=(n[0],n[1]);return An(e,a)})}function Ln(e){return e.houseguests.filter(function(e){return e.isJury})}function Rn(e){return e.remainingPlayers-2<=e.finalJurySize()}function Tn(e){return(e=Math.round(.55*e))%2===0&&e--,e}function Dn(e,t){return e>=1&&e%2===1&&t-2>=e}var Un=function(){function e(){Object(c.a)(this,e),this.jurors=0,this.houseguests=[]}return Object(s.a)(e,[{key:"finalJurySize",value:function(){return this.jurors}},{key:"jurySize",set:function(e){Dn(e,this.houseguests.length)&&(this.jurors=e)}}]),e}(),Fn=function(e){function t(e){var n;if(Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this))).houseguestCache={},n.nonEvictedHouseguests=new Set,n.remainingPlayers=0,n.phase=0,n.previousHOH=void 0,n.log=[],n.cliques=[],n.__logindex__=0,e instanceof t||e instanceof _n)Object.assign(Object(m.a)(Object(m.a)(n)),e);else{var a=e,r=a.players;n.remainingPlayers=r.length,r.forEach(function(e,t){var a=new y(Object(d.a)({},e,{id:t,relationships:A(r.length,t)}));n.nonEvictedHouseguests.add(t),n.houseguestCache[t]=a,n.houseguests.push(a)}),n.jurySize=a.jury}return n.finalJurySize()||(n.jurySize=Tn(n.houseguests.length)),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"incrementLogIndex",value:function(){this.__logindex__++,this.log[this.phase].push(new Pn)}},{key:"resetLogIndex",value:function(){this.__logindex__=0}},{key:"currentLog",get:function(){return this.log[this.phase]?this.log[this.phase][this.__logindex__]:new Pn}}]),t}(Un),_n=function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this))).houseguestCache={},n.nonEvictedHouseguests=new Set,n.remainingPlayers=0,n.phase=0,n.previousHOH=void 0,n.cliques=[],n.log=[],n.__logindex__=0;var a=j.a.cloneDeep(e);return Object.assign(Object(m.a)(Object(m.a)(n)),a),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"incrementLogIndex",value:function(){this.__logindex__++,this.log[this.phase].push(new Pn)}},{key:"resetLogIndex",value:function(){this.__logindex__=0}},{key:"currentLog",get:function(){return this.log[this.phase]?this.log[this.phase][this.__logindex__]:new Pn}}]),t}(Un),zn=function(){function e(){Object(c.a)(this,e),this.data={}}return Object(s.a)(e,[{key:"add",value:function(e,t){this.data[e]?this.data[e].add(t):this.data[e]=new Set([t])}}]),e}();function Bn(e){var t=Hn(e),n=[],a=new zn;return t.forEach(function(t){j.a.forEach(t.relationships,function(n,r){var i=parseInt(r),o=function(e,t,n){return _(e.popularity,t.popularity,n)===R.Friend?[[e.id,t.id],1]:[null,0]}(t,An(e,i),n),c=Object(g.a)(o,2),s=c[0],l=c[1];l,i>t.id&&s&&(a.add(t.id,i),a.add(i,t.id))}),n.push(t.id)}),{nodes:n,neighbors:function(e){return a.data[e]||new Set([])}}}var Vn=[];function Jn(e){return e.core.length+(e.affiliates?e.affiliates[0].length+e.affiliates[1].length:0)}function Qn(e){var t=Bn(e);Vn=[],function e(t,n,a,r){if(0===n.size&&0===a.size){var i=Array.from(t.values());return void Vn.push(i)}Array.from(n.keys()).forEach(function(i){var o=new Set(t.values()).add(i),c=new Set(Object(E.a)(n).filter(function(e){return r.neighbors(i).has(e)})),s=new Set(Object(E.a)(a).filter(function(e){return r.neighbors(i).has(e)}));e(o,c,s,r),n.delete(i),a.add(i)})}(new Set([]),new Set(t.nodes),new Set([]),t),Vn.forEach(function(t){return t.map(function(t){return An(e,t)})}),Vn=Vn.sort(function(e,t){return t.length-e.length});var n=[],a=[];Vn.forEach(function(e,t){for(var n=new Set(e),r=t+1;r<Vn.length;r++){var i=new Set(Vn[r]),o=O(n,i),c=S(n,o),s=S(i,o);o.size>0&&a.push([t,r,{core:Array.from(o),affiliates:[Array.from(c),Array.from(s)]}])}});var r=new Set;return a.sort(function(e,t){return t[2].core.length-e[2].core.length}),a.forEach(function(e){var t=e[0],a=e[1];r.has(t)||r.has(a)||(r.add(t),r.add(a),n.push(e[2]))}),Vn.forEach(function(e,t){r.has(t)||n.push({core:e})}),n.sort(function(e,t){return Jn(t)-Jn(e)}),n}function Gn(e,t){var n=e.length;if(n!=t.length)throw"Mismatched lengths";0!=n&&(0==(n&n-1)?function(e,t){var n=e.length;if(n!=t.length)throw"Mismatched lengths";if(1==n)return;for(var a=-1,r=0;r<32;r++)1<<r==n&&(a=r);if(-1==a)throw"Length is not a power of 2";for(var i=new Array(n/2),o=new Array(n/2),c=0;c<n/2;c++)i[c]=Math.cos(2*Math.PI*c/n),o[c]=Math.sin(2*Math.PI*c/n);for(var s=0;s<n;s++){var l=y(s,a);if(l>s){var u=e[s];e[s]=e[l],e[l]=u,u=t[s],t[s]=t[l],t[l]=u}}for(var h=2;h<=n;h*=2)for(var m=h/2,d=n/h,f=0;f<n;f+=h)for(var p=f,v=0;p<f+m;p++,v+=d){var g=p+m,b=e[g]*i[v]+t[g]*o[v],E=-e[g]*o[v]+t[g]*i[v];e[g]=e[p]-b,t[g]=t[p]-E,e[p]+=b,t[p]+=E}function y(e,t){for(var n=0,a=0;a<t;a++)n=n<<1|1&e,e>>>=1;return n}}(e,t):function(e,t){var n=e.length;if(n!=t.length)throw"Mismatched lengths";var a=1;for(;a<2*n+1;)a*=2;for(var r=new Array(n),i=new Array(n),o=0;o<n;o++){var c=o*o%(2*n);r[o]=Math.cos(Math.PI*c/n),i[o]=Math.sin(Math.PI*c/n)}for(var s=Yn(a),l=Yn(a),u=0;u<n;u++)s[u]=e[u]*r[u]+t[u]*i[u],l[u]=-e[u]*i[u]+t[u]*r[u];var h=Yn(a),m=Yn(a);h[0]=r[0],m[0]=i[0];for(var d=1;d<n;d++)h[d]=h[a-d]=r[d],m[d]=m[a-d]=i[d];var f=new Array(a),p=new Array(a);qn(s,l,h,m,f,p);for(var v=0;v<n;v++)e[v]=f[v]*r[v]+p[v]*i[v],t[v]=-f[v]*i[v]+p[v]*r[v]}(e,t))}function qn(e,t,n,a,r,i){var o=e.length;if(o!=t.length||o!=n.length||o!=a.length||o!=r.length||o!=i.length)throw"Mismatched lengths";e=e.slice(),t=t.slice(),n=n.slice(),a=a.slice(),Gn(e,t),Gn(n,a);for(var c=0;c<o;c++){var s=e[c]*n[c]-t[c]*a[c];t[c]=t[c]*n[c]+e[c]*a[c],e[c]=s}Gn(t,e);for(var l=0;l<o;l++)r[l]=e[l]/o,i[l]=t[l]/o}function Yn(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function Kn(e){var t=[],n=[],a=[];e.forEach(function(e){0===e&&n.push(0),1===e&&a.push(1),0!==e&&1!==e&&t.push(e)});var r=function(e){for(var t=e.length,n=t+1,a=2*Math.PI/n,r=[1],i=[0],o=function(t){var n=0;return e.forEach(function(e){var r=Math.pow(1-e+e*Math.cos(a*t),2),i=Math.pow(e*Math.sin(a*t),2);n+=.5*Math.log(r+i)}),n},c=function(t){var n=0;return e.forEach(function(e){var r=e*Math.sin(a*t),i=1-e+e*Math.cos(a*t);n+=Math.atan2(r,i)}),n},s=1;s<=Math.ceil(t/2);s++){var l=Math.exp(o(s)),u=c(s);r[s]=l*Math.cos(u),i[s]=l*Math.sin(u)}for(var h=Math.ceil(t/2)+1;h<=t;h++)r[h]=r[n-h],i[h]=-i[n-h];Gn(r,i);var m=r,d=[];return m.forEach(function(e,t){return m[t]=e/n}),d[0]=m[0],m.forEach(function(e,t){0!==t&&(d[t]=d[t-1]+m[t])}),d}(t);return r.forEach(function(e,t){return r[t]=1-e}),a.concat(r,n)}var Xn={type:R.Friend,id:-1,pHeroWins:-1,winrate:-1,relationship:2,villainPopularity:2};function Zn(e,t){var n=e.superiors[t.id],a=_(e.popularity,t.popularity,e.relationshipWith(t));return{id:t.id,relationship:t.relationshipWith(e),type:a,winrate:e.powerRanking,pHeroWins:n,villainPopularity:t.popularity}}var $n,ea=function(){function e(t){Object(c.a)(this,e),this.firstTarget=Xn,this.secondTarget=Xn,this.hg=void 0,this.hg=t}return Object(s.a)(e,[{key:"getTargets",value:function(){return[this.firstTarget.id,this.secondTarget.id]}},{key:"addTarget",value:function(e,t){(ta(this.firstTarget,e,this.hg,t)||ta(this.secondTarget,e,this.hg,t))&&(ta(this.firstTarget,this.secondTarget,this.hg,t)?this.firstTarget=e:this.secondTarget=e)}}]),e}();function ta(e,t,n,a){if(2===e.relationship)return!0;var r=function(e){return e.friends===e.enemies?$n.MoR:e.friends>e.enemies?$n.StatusQuo:$n.Underdog}(n);return r===$n.StatusQuo?function(e,t){var n=aa(t),a=aa(e);return!(n>a)&&(n<a||t.relationship<e.relationship)}(e,t):r===$n.MoR?function(e,t,n,a){if(e.type!==R.Enemy)return t.type===R.Enemy||t.relationship<e.relationship;if(t.type!==R.Enemy)return!1;var r=na(n,a,e,t,function(e){return e===R.Enemy}),i=r.oldPop,o=r.newPop;return i<o}(e,t,a,n):function(e,t,n,a){if(e.type===R.Friend)return t.type!==R.Friend||t.relationship<e.relationship;if(t.type===R.Friend)return!1;var r=na(n,a,e,t,function(e){return e!==R.Friend}),i=r.oldPop,o=r.newPop;return i<o}(e,t,a,n)}function na(e,t,n,a,r){var i=Array.from(e.nonEvictedHouseguests).map(function(t){return An(e,t)}).filter(function(e){return r(_(t.popularity,e.popularity,t.relationshipWith(e)))&&t.id!==e.id}),o=0,c=An(e,n.id),s=0,l=An(e,a.id);return i.forEach(function(e){e.id!==c.id&&(o+=c.relationshipWith(e)),e.id!==l.id&&(s+=l.relationshipWith(e))}),{oldPop:o,newPop:s}}function aa(e){return e.type===R.Enemy?1:e.type===R.Friend?3:2}function ra(e,t,n){return Rn(n)?function(e,t,n){var a=t[0],r=t[1];if(3===n.remainingPlayers)return oa(e,a,r);if(4===n.remainingPlayers)return function(e,t,n,a){var r=ia(e,n,a),i=ia(e,t,a),o=r>i?0:1;return{decision:o,reason:"Evicting ".concat([t,n][o].name," gives me better odds of making it to the end and winning.")}}(e,a,r,Wn(Array.from(n.nonEvictedHouseguests.values()).map(function(e){return n.houseguestCache[e]}),[a,r,e])[0]);if(e.powerRanking>=.45)return ca(e,t);if(e.powerRanking<=1/3)return c();var i=z(e.popularity,a.popularity,e.relationships[a.id]),o=z(e.popularity,r.popularity,e.relationships[r.id]);return i===o?c():ca(e,t);function c(){var n=e.powerRanking<e.superiors[a.id],i=e.powerRanking<e.superiors[r.id];if(!n&&!i)return ca(e,t);var o=e.superiors[a.id]<e.superiors[r.id]?0:1;return{decision:o,reason:"I can't beat ".concat(t[o].name," in the end.")}}}(e,t,n):ca(e,t)}function ia(e,t,n){var a=e.superiors[t.id],r=e.superiors[n.id],i=t.superiors[n.id];if(void 0===a)throw new Error("Tried to get a power comparison that does not exist between ".concat(e.name," and ").concat(t.name," [1]"));if(void 0===r)throw new Error("Tried to get a power comparison that does not exist between ".concat(e.name," and ").concat(n.name," [2]"));if(void 0===i)throw new Error("Tried to get a power comparison that does not exist between ".concat(t.name," and ").concat(n.name," [3]"));return 1/3*Math.max(a,r)+1/3*(0===oa(t,e,n).decision?0:a)+1/3*(0===oa(n,e,t).decision?0:r)}function oa(e,t,n){var a=e.superiors[t.id]<e.superiors[n.id]?0:1;return{decision:a,reason:"I have better odds of beating ".concat(a?t.name:n.name," in the final 2.")}}function ca(e,t){var n=t[0],a=t[1],r=_(e.popularity,n.popularity,e.relationships[n.id]),i=_(e.popularity,a.popularity,e.relationships[a.id]),o=e.targets[0]===n.id||e.targets[1]===n.id,c=e.targets[0]===a.id||e.targets[1]===a.id;if(o&&!c||c&&!o){var s=o?0:1;return{decision:s,reason:"I am targeting ".concat(t[s].name,".")}}if(r===R.Enemy&&i===R.Enemy){var l=e.relationships[n.id]<e.relationships[a.id]?0:1;return{decision:l,reason:"Both noms are my enemies, but I dislike ".concat(t[l].name," more.")}}if(r===R.Enemy&&i!==R.Enemy||i===R.Enemy&&r!==R.Enemy){var u=r===R.Enemy?0:1;return{decision:u,reason:"".concat(t[u].name," is my enemy.")}}if(r!==R.Friend&&i===R.Friend||i!==R.Friend&&r===R.Friend){var h=r!==R.Friend?0:1;return{decision:h,reason:"".concat(t[0===h?1:0].name," is my friend.")}}var m=function(e,t,n){var a=0,r=1/0;return t.forEach(function(t,i){var o=n(e,t);o<r&&(a=i,r=o)}),a}(e,t,ua);return{decision:m,reason:"Both noms are my friends, but I like ".concat(t[0===m?1:0].name," more.")}}function sa(e,t,n,a){var r;return e.id===a?{decision:null,reason:"I support my original nominations."}:(e.id==t[0].id||e.id==t[1].id?r={decision:e,reason:"I am going to save myself."}:(r=function(e,t,n){var a="Neither of these nominees are my friends.",r=null;return t.forEach(function(t){_(e.popularity,t.popularity,e.relationshipWith(t))===R.Friend&&(r?(r=e.relationshipWith(t)>e.relationshipWith(r)?t:r,a="Of these noms, I like ".concat(r.name," the most.")):(a="".concat(t.name," is my friend."),r=t))}),r?{decision:r,reason:a}:{decision:null,reason:a}}(e,t),4===n.remainingPlayers&&(r={decision:null,reason:"It doesn't make sense to use the veto here."})),r||null)}function la(e,t,n){var a=.5+(e.relationshipWith(t)-e.relationshipWith(n))/2;return a>1&&(a=1),a<0&&(a=0),a}!function(e){e[e.StatusQuo=0]="StatusQuo",e[e.Underdog=1]="Underdog",e[e.MoR=2]="MoR"}($n||($n={}));var ua=function(e,t){return e.relationships[t.id]};function ha(e,t){var n=e.hero,a=e.villain,r=[];return t.forEach(function(e){e.id!==n.id&&e.id!==a.id&&r.push(la(e,n,a))}),Kn(r)[Math.ceil((t.length-2)/2)-1]}function ma(e,t){var n=An(e,t);return e.currentLog&&(e.currentLog.evicted=n.id),n.isEvicted=!0,e.remainingPlayers-2<=e.finalJurySize()&&(n.isJury=!0),e.nonEvictedHouseguests.delete(n.id),e.remainingPlayers--,da(e),e}function da(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Rn(e)&&0===Ln(e).length&&function(e){for(var t=0;t<e.length;t++)for(var n=e[t],a=t+1;a<e.length;a++){var r=e[a],i=ha({hero:n,villain:r},e);n.superiors[r.id]=i,r.superiors[n.id]=1-i}}(Hn(e)),Rn(e)&&(t=Hn(e)).forEach(function(e){var n=Object(d.a)({},e.superiors),a=new Set(t.map(function(e){return e.id}));n=j.a.filter(n,function(e,t){return a.has(parseInt(t))}),e.powerRanking=function(e){var t=0;return e.forEach(function(e){return t+=e}),t/e.length}(Object.values(n))}),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Hn(e).forEach(function(n){n.targetingMe=0;var a=function(e,t){var n=0,a=0,r=e.id;return t.forEach(function(e){e.id!==r&&(a++,n+=e.relationships[r])}),0===a?0:n/a}(n,Hn(e));t&&(n.deltaPopularity=(k(a)-k(n.previousPopularity))/100),n.popularity=a})}(e,n),e.remainingPlayers>2&&function(e){var t=Hn(e);t.forEach(function(n){var a=new ea(n),r=0,i=0;t.forEach(function(e){if(n.id!==e.id){var t=_(n.popularity,e.popularity,n.relationshipWith(e));t===R.Friend?r++:t===R.Enemy&&i++}}),n.friends=r,n.enemies=i,t.forEach(function(t){n.id!==t.id&&a.addTarget(Zn(n,t),e)}),n.targets=a.getTargets(),n.targets.forEach(function(t){An(e,t).targetingMe++})})}(e)}function fa(e){return e.remainingPlayers<=30}function pa(e,t){var n=new _n(e);0===e.phase&&function(e){var t=Math.sin,n=Math.cos;e.forEach(function(e){var a=Nn().randomFloat(),r=Math.abs(Nn().randomFloat()),i=2*Math.PI*a,o=Math.acos(2*r-1);e.compatibility=[t(i)*n(o),t(i)*t(o),n(i)]});for(var a=0;a<e.length;a++)for(var r=e[a].relationships,i=a+1;i<e.length;i++){var o=e[i].relationships,c=1-2*M(e[a].compatibility,e[i].compatibility)/Math.PI;o[a]=c,r[i]=c}}(n.houseguests),n.phase++,n.resetLogIndex(),e.remainingPlayers>2&&(n.log[n.phase]=[new Pn]),da(n,!0),Hn(n).forEach(function(e){e.previousPopularity=e.popularity}),fa(n)&&(n.cliques=Qn(n));var a=new Fn(n);if(!t.canPlayWith(a.remainingPlayers))throw new Error("Episode type ".concat(t.name," not playable with ").concat(a.remainingPlayers," players"));return t.generate(a)}function va(){var e=Object(b.a)(["\n    position: -webkit-sticky;\n    position: sticky;\n    top: 20px;\n    right: 20px;\n"]);return va=function(){return e},e}var ga=ae.c.img(va());function ba(){return r.a.createElement(ga,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAASElEQVRIiWNgGAUEACMa/z+R6ohWz0Sqi0gFLIRcQAAQDAGa+2DoWzAKRgH1wX8G3OULWfqHfkYbsNIUPR5IrQ/gYLQsGngAAEPgCRZjAdYSAAAAAElFTkSuQmCC",className:"button is-rounded",onClick:function(){Sn.next(!Sn.getValue())}})}function Ea(){var e=Object(b.a)(["\n    height: 0.4em;\n    background-color: #000000;\n"]);return Ea=function(){return e},e}function ya(){var e=Object(b.a)(["\n    background-color: ",";\n"]);return ya=function(){return e},e}function wa(){var e=Object(b.a)(["\n    background-color: ",";\n"]);return wa=function(){return e},e}function ja(){var e=Object(b.a)(["\n    background-color: ",";\n"]);return ja=function(){return e},e}function ka(){var e=Object(b.a)(["\n    background-color: ",";\n"]);return ka=function(){return e},e}function Oa(){var e=Object(b.a)(["\n    background-color: ",";\n"]);return Oa=function(){return e},e}function Sa(){var e=Object(b.a)(["\n    background-color: ",";\n"]);return Sa=function(){return e},e}function xa(){var e=Object(b.a)(["\n    background-color: ",";\n"]);return xa=function(){return e},e}function Ca(){var e=Object(b.a)(["\n    border: 1px solid ",";\n    border-collapse: collapse;\n"]);return Ca=function(){return e},e}function Na(){var e=Object(b.a)(["\n    padding: 0.1em 0.4em;\n    border: 1px solid ",";\n"]);return Na=function(){return e},e}var Ma=ae.c.td(Na(),function(e){return e.theme.tableCellBorder}),Pa=ae.c.table(Ca(),function(e){return e.theme.tableCellBorder}),Aa=Object(ae.c)(Ma)(xa(),function(e){return e.theme.grayCell}),Wa=Object(ae.c)(Ma)(Sa(),function(e){return e.theme.lightGrayCell}),Ia=Object(ae.c)(Ma)(Oa(),function(e){return e.theme.evictedCell}),Ha=Object(ae.c)(Ma)(ka(),function(e){return e.theme.winnerCell}),La=Object(ae.c)(Ma)(ja(),function(e){return e.theme.runnerUpCell}),Ra=Object(ae.c)(Ma)(wa(),function(e){return e.theme.nomineeCell}),Ta=Object(ae.c)(Ma)(ya(),function(e){return e.theme.hohCell}),Da=ae.c.tr(Ea());function Ua(e){var t=e.log,n=[];e.houseguests.forEach(function(e,t){n[e.id]=[r.a.createElement(Aa,{key:"hg-name---".concat(t)},r.a.createElement(et,{noMargin:!0},e.name))]});var a=[],i=[],o=[],c=[],s=[],l=[],u=[];t.forEach(function(h,m){!function(e,t,n,a,i){if(!e)return void n.push(r.a.createElement(Aa,{key:"toprow--".concat(t)}));if(t===a)return void n.push(r.a.createElement(Aa,{key:"toprow--".concat(t),colSpan:2},r.a.createElement(et,{noMargin:!0},"Finale")));n.push(r.a.createElement(Aa,{key:"toprow--".concat(t),colSpan:i},r.a.createElement(et,{noMargin:!0},"Week ",t)))}(h?h[0]:void 0,m,i,t.length-1,h?h.length:-1),(h||[void 0]).forEach(function(t){if(function(e,t,n){if(!e)return void n.push(r.a.createElement(Aa,{key:"preveto--".concat(t)},r.a.createElement(et,{noMargin:!0},"Nominations",r.a.createElement("br",null),r.a.createElement("small",null,"(pre-veto)"))));if(0===e.nominationsPreVeto.length)return void n.push(r.a.createElement(Wa,{key:"preveto--".concat(t),rowSpan:2},r.a.createElement(tt,{noMargin:!0},"(none)")));n.push(r.a.createElement(Wa,{key:"preveto--".concat(t)},r.a.createElement($e,{noMargin:!0},e.nominationsPreVeto[0],r.a.createElement("br",null)," ",e.nominationsPreVeto[1])))}(t,m,o),function(e,t,n){if(!e)return void n.push(r.a.createElement(Aa,{key:"veto--".concat(t)},r.a.createElement(et,{noMargin:!0},"Veto Winner")));if(void 0===e.vetoWinner)return;n.push(r.a.createElement(Wa,{key:"veto--".concat(t)},r.a.createElement($e,{noMargin:!0},e.vetoWinner)))}(t,m,c),function(e,t,n){if(!e)return void n.push(r.a.createElement(Aa,{key:"postVeto--".concat(t)},r.a.createElement(et,{noMargin:!0},"Nominations",r.a.createElement("br",null),r.a.createElement("small",null,"(post-veto)"))));n.push(r.a.createElement(Wa,{key:"postVeto--".concat(t)},r.a.createElement($e,{noMargin:!0},e.nominationsPostVeto[0],r.a.createElement("br",null)," ",e.nominationsPostVeto[1])))}(t,m,s),function(e,t,n,a){if(!e)return void n.push(r.a.createElement(Aa,{key:t,rowSpan:2},r.a.createElement(et,{noMargin:!0},"Evicted")));var i=void 0!==e.soleVoter?"".concat(e.soleVoter,"'s choice"):"".concat(e.votesInMajority," of ").concat(e.outOf," votes");n.push(r.a.createElement(Ia,{key:t,rowSpan:2},r.a.createElement($e,{noMargin:!0},r.a.createElement("b",null,An(a,e.evicted).name),r.a.createElement("br",null),r.a.createElement("small",null,i," ",r.a.createElement("br",null),"to evict"))))}(t,m,l,e),t){a.push([t.evicted,m]),void 0!==t.runnerUp&&a.push([t.runnerUp,m]),void 0!==t.winner&&a.push([t.winner,m]);for(var i=Object.entries(t.votes),h=0;h<i.length;h++){var d=i[h],f=Object(g.a)(d,2),p=f[0],v=f[1];n[p].push(v.render(e))}void 0!==t.winner&&void 0!==t.runnerUp&&(n[t.winner].push((new Ba).render(e)),n[t.runnerUp].push((new Va).render(e)),l.push(r.a.createElement(La,{key:"runnerUp"},r.a.createElement(et,{noMargin:!0},An(e,t.runnerUp).name),r.a.createElement($e,{noMargin:!0},r.a.createElement("small",null,"Finalist")))),u.push(r.a.createElement(Ha,{key:"winner"},r.a.createElement(et,{noMargin:!0},An(e,t.winner).name),r.a.createElement($e,{noMargin:!0},r.a.createElement("small",null,"Winner")))))}})}),o.push(r.a.createElement(Wa,{key:"preveto--finale",rowSpan:3},r.a.createElement(tt,{noMargin:!0},"(none)")));var h=r.a.createElement("tr",null,u),m=r.a.createElement("tr",null,i),d=r.a.createElement("tr",null,o),f=r.a.createElement("tr",null,c),p=r.a.createElement("tr",null,s),v=r.a.createElement(Da,null,r.a.createElement("td",{colSpan:e.houseguests.length})),b=[],E=r.a.createElement("tr",null,l),y=-1;return a.reverse().forEach(function(t,a){var i=Object(g.a)(t,2),o=i[0],c=i[1];if(y>0){var s=2===a?"(Finale)":"(Week ".concat(c,")"),l=An(e,o).isJury,u=l?y-1:y,h=r.a.createElement(Ia,{colSpan:u,key:"evicted-week-".concat(s,"-").concat(a)},r.a.createElement(tt,{noMargin:!0},"Evicted"),r.a.createElement(tt,{noMargin:!0},r.a.createElement("small",null,s)));if(l){var m=n[o].slice(0,-1);m.push(h),m.push(n[o][n[o].length-1]),n[o]=m}else n[o].push(h)}b.push(r.a.createElement("tr",{key:"hgrow--".concat(o)},n[o])),y++}),r.a.createElement("div",null,r.a.createElement(ba,null),r.a.createElement(Pa,null,r.a.createElement("tbody",null,m,d,f,p,v,b,v,E,h)))}var Fa=0;function _a(){return"".concat(Fa++,"-- vote key")}var za=function e(t){var n=this;Object(c.a)(this,e),this.id=void 0,this.render=function(e){return r.a.createElement(Ma,{key:_a()},r.a.createElement($e,{noMargin:!0},An(e,n.id).name))},this.id=t},Ba=function e(){Object(c.a)(this,e),this.id=1,this.render=function(e){return r.a.createElement(Ha,{key:"winner---"},r.a.createElement($e,{noMargin:!0},"Winner"))}},Va=function e(){Object(c.a)(this,e),this.id=1,this.render=function(e){return r.a.createElement(La,{key:"runnerUp---"},r.a.createElement($e,{noMargin:!0},"Finalist"))}},Ja=function e(t){Object(c.a)(this,e),this.id=-1,this.evicted=void 0,this.render=function(e){return r.a.createElement(Ra,{key:_a()},r.a.createElement(tt,{noMargin:!0},"Nominated"))},this.evicted=t},Qa=function(){function e(t){var n=this;Object(c.a)(this,e),this.id=void 0,this.render=function(e){return r.a.createElement(Ta,{key:_a()},-1==n.id?n.hohText:n.hohVote(e))},this.id=void 0===t?-1:t}return Object(s.a)(e,[{key:"hohVote",value:function(e){return r.a.createElement(tt,{noMargin:!0},An(e,this.id).name)}},{key:"hohText",get:function(){return r.a.createElement(tt,{noMargin:!0},"Head of",r.a.createElement("br",null),"Household")}}]),e}();function Ga(e,t,n,a){var i,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c="";n[0]=An(e,n[0].id),n[1]=An(e,n[1].id);var s=sa(a,n,e,(t=An(e,t.id)).id);(i=s.decision)?a.id==n[0].id||a.id==n[1].id?c+="...to use the power of veto on myself.":c+="...to use the power of veto on ".concat(i.name,"."):c+="... not to use the power of veto.";var l="",u="",h=Object(E.a)(n);if(i){u+=t.id===a.id?"Since I have just vetoed one of my nominations, I must name a replacement nominee.":"".concat(t.name,", since I have just vetoed one of your nominations, you must name a replacement nominee.");var m=Object(d.a)({},An(e,function(e,t,n,a){var r=[],i=Object(E.a)(t);for(i.sort(function(t,a){return ta(Zn(e,t),Zn(e,a),e,n)?1:-1});r.length<a;){var o=i[r.length];r.push({decision:o.id,reason:"I think you are ugly"})}return r}(t,Wn(e.houseguests,[t,n[0],n[1],a]),e,1)[0].decision));h[n.findIndex(function(e){return e.id===s.decision.id})]=m,m.nominations++,An(e,m.id).nominations++,l="My replacement nominee is ".concat(m.name,".")}var f=new lt({title:"Veto Ceremony",gameState:e,content:r.a.createElement("div",null,!o&&r.a.createElement($e,null,"This is the Veto Ceremony."),!o&&r.a.createElement($e,null,"".concat(n[0].name," and ").concat(n[1].name," have been nominated for eviction, \n                    but I have the power to veto one of these nominations.")),r.a.createElement("div",{className:"columns is-marginless is-centered"},r.a.createElement(Dt,{className:"column"},r.a.createElement(Ce,{centered:!0,houseguest:n[0]})),r.a.createElement(Dt,{className:"column"},r.a.createElement(Ce,{centered:!0,houseguest:n[1]}))),r.a.createElement(et,null,"I have decided... ",r.a.createElement("br",null)),r.a.createElement(Ce,{centered:!0,houseguest:Object(d.a)({},a,{tooltip:s.reason})}),r.a.createElement(et,{noMargin:!0},c),r.a.createElement($e,null,u),l&&r.a.createElement(Ce,{centered:!0,houseguest:t}),r.a.createElement(et,null,l),r.a.createElement("div",{className:"columns is-marginless is-centered"},r.a.createElement(Dt,{className:"column"},r.a.createElement(Ce,{centered:!0,houseguest:h[0]})),r.a.createElement(Dt,{className:"column"},r.a.createElement(Ce,{centered:!0,houseguest:h[1]}))),!o&&r.a.createElement(Pe,null))});return e.currentLog.nominationsPostVeto=[h[0].name,h[1].name],[e,f,h]}function qa(){var e=Object(b.a)(["\n    cursor: pointer;\n"]);return qa=function(){return e},e}var Ya={canPlayWith:function(e){return e>3},eliminates:1,arrowsEnabled:!0,hasViewsbar:!0,name:"BigBrotherVanilla",generate:function(e){var t=er(e),n=r.a.createElement(Ge,null,r.a.createElement(Za,null),r.a.createElement(it,{gameState:e}),r.a.createElement("br",null),r.a.createElement(Pe,null));return new $a({title:t.title,scenes:t.scenes,content:n,gameState:new Fn(t.gameState),initialGamestate:e,type:Ya})}},Ka=ae.c.li(qa());function Xa(e){return r.a.createElement(Ka,{className:e.active===e.id?"is-active":"",onClick:function(){e.setActive(e.id),kn.next(e.id)}},r.a.createElement("a",null,e.text))}function Za(){var e=r.a.useState(kn.value),t=Object(g.a)(e,2),n=t[0],a=t[1];return r.a.createElement("div",{className:"tabs is-centered is-fullwidth is-medium",style:{marginBottom:0}},r.a.createElement("ul",{style:{paddingLeft:0}},r.a.createElement(Xa,{text:"Memory Wall",active:n,setActive:a,id:0}),r.a.createElement(Xa,{text:"Alliances",active:n,setActive:a,id:1})))}var $a=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).title=void 0,n.scenes=void 0,n.content=void 0,n.initialGamestate=void 0,n.gameState=void 0,n.type=Ya,n.title=e.title,n.scenes=e.scenes,n.content=e.content,n.gameState=e.gameState,n.initialGamestate=e.initialGamestate||e.gameState,n}return Object(h.a)(t,e),t}(st);function er(e){var t,n,a,i,o,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=[],l=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new _n(e),a=e.previousHOH?[e.previousHOH]:[],i=In(n.houseguests,a);n.previousHOH=i,n.currentLog.votes[i.id]=new Qa,i.hohWins+=1;var o=new lt({title:"HoH Competition",gameState:e,content:r.a.createElement("div",null,a.length>0&&(t?r.a.createElement(et,null,"Houseguests, please return to the living room. Tonight will be a double eviction."):r.a.createElement($e,null,"Houseguests, it's time to find a new Head of Household. As outgoing HoH, ".concat(a[0].name," will not compete."))),r.a.createElement(Ce,{centered:!0,houseguest:i}),r.a.createElement(et,null,i.name," has won Head of Household!"),r.a.createElement("br",null),!t&&r.a.createElement(Pe,null))});return[new Fn(n),o,i]}(e,c),u=Object(g.a)(l,3);n=u[0],a=u[1],t=u[2],s.push(a);var h,m,f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=new _n(e),i=[An(a,t.targets[0]),An(a,t.targets[1])],o=i[0],c=i[1];o.nominations++,c.nominations++,a.currentLog.nominationsPreVeto=[o.name,c.name];var s=Object(w.shuffle)([o,c]),l=new lt({title:"Nomination Ceremony",gameState:a,content:r.a.createElement("div",null,r.a.createElement($e,null,!n&&"This is the nomination ceremony. It is my responsibility as the Head of Household to\n                    nominate two houseguests for eviction."),!n&&r.a.createElement(Ce,{centered:!0,houseguest:t}),r.a.createElement("div",{className:"columns is-marginless is-centered"},r.a.createElement(Dt,{className:"column"},r.a.createElement($e,null," My first nominee is..."),r.a.createElement(Ce,{centered:!0,houseguest:s[0]})),r.a.createElement(Dt,{className:"column"},r.a.createElement($e,null,"My second nominee is..."),r.a.createElement(Ce,{centered:!0,houseguest:s[1]}))),r.a.createElement(et,null,"I have nominated you, ".concat(s[0].name," and you, ").concat(s[1].name," for eviction.")),r.a.createElement("br",null),!n&&r.a.createElement(Pe,null))});return[new Fn(a),l,[o,c]]}(n,t,c),p=Object(g.a)(f,3);n=p[0],i=p[1],o=p[2],s.push(i);var v,b=function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=new _n(e),c=Hn(o),s=[],l=c.length<=6;if(l)for(s.push(Object(d.a)({},t)),s.push(Object(d.a)({},n)),s.push(Object(d.a)({},a));s.length<c.length;)s.push(Object(d.a)({},In(c,s)));else s.push(Object(d.a)({},t)),s.push(Object(d.a)({},n)),s.push(Object(d.a)({},a)),s.push(Object(d.a)({},In(c,s))),s.push(Object(d.a)({},In(c,s))),s.push(Object(d.a)({},In(c,s)));var u,h=In(s);(h=An(o,h.id)).povWins++,o.currentLog.vetoWinner=h.name,u=l?"Everyone left in the house will compete in this challenge.":"".concat(t.name,", as Head of Household, and ").concat(n.name," and ").concat(a.name," as nominees, will compete, as well as 3 others chosen by random draw.");var m=[s[3]];s[4]&&m.push(s[4]),s[5]&&m.push(s[5]);var f=new lt({title:"Veto Competition",gameState:e,content:r.a.createElement("div",null,r.a.createElement($e,null,i?"The houseguests compete in the veto competition.":"It's time to pick players for the veto competition."),r.a.createElement(Ne,{centered:!0,houseguests:[t,n,a]}),!i&&r.a.createElement($e,null,u),r.a.createElement(Ne,{centered:!0,houseguests:m}),r.a.createElement($e,null,"..."),r.a.createElement(Ne,{centered:!0,houseguests:[h]}),r.a.createElement(et,null,"".concat(h.name," has won the Golden Power of Veto!")),!i&&r.a.createElement(Pe,null))});return[new Fn(o),f,h]}(n,t,o[0],o[1],c),E=Object(g.a)(b,3);n=E[0],h=E[1],m=E[2],s.push(h);var y,j=Ga(n,t,o,m,c),k=Object(g.a)(j,3);n=k[0],v=k[1],o=k[2],s.push(v);var O=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new _n(e);n=Object(w.shuffle)(n);var o,c=[[],[]];Hn(i).forEach(function(e){if(e.id!==n[0].id&&e.id!==n[1].id&&e.id!==t.id){var a=ra(e,n,i),r=Object(d.a)({},e);r.tooltip=a.reason,i.currentLog.votes[e.id]=new za(n[a.decision].id),c[a.decision].push(r),o=e}});var s=c[0].length,l=c[1].length;i.currentLog.outOf=s+l,s+l===1&&(i.currentLog.soleVoter=o.name);var u,h=s===l,m={decision:0,reason:"Error you should not be seeing this"};h&&(i.currentLog.outOf++,m=ra(t,n,i),i.currentLog.votes[t.id]=new Qa(n[m.decision].id)),s>l?(u=n[0],i.currentLog.votesInMajority=s):l>s?(u=n[1],i.currentLog.votesInMajority=l):(u=n[m.decision],i.currentLog.votesInMajority=l+1),i.currentLog.votes[n[0].id]=new Ja(u.id===n[0].id),i.currentLog.votes[n[1].id]=new Ja(u.id!==n[0].id),i=ma(i,u.id);var f=0===s||0===l?"By a unanimous vote...":"By a vote of ".concat(s," to ").concat(l,"..."),p=Object(d.a)({},t);p.tooltip=m.reason;var v=a?{marginTop:200}:{},g=new lt({title:"Live Eviction",gameState:e,content:r.a.createElement("div",{style:v},r.a.createElement(et,null,f),r.a.createElement("div",{className:"columns is-centered"},r.a.createElement(Dt,{className:"column"},r.a.createElement(Ne,{houseguests:c[0],centered:!0})),r.a.createElement(Dt,{className:"column"},r.a.createElement(Ne,{houseguests:c[1],centered:!0}))),h&&r.a.createElement("div",null,r.a.createElement(et,null," We have a tie."),r.a.createElement($e,null,"".concat(t.name,", as current Head of Household, you must cast the sole vote to evict.")),r.a.createElement(Ne,{houseguests:[p],centered:!0}),r.a.createElement(et,null,"I vote to evict ","".concat(u.name,"."))),r.a.createElement(Ne,{houseguests:[An(i,n[0].id),An(i,n[1].id)],centered:!0}),r.a.createElement(et,null,"".concat(u.name,"... you have been evicted from the Big Brother House.")),r.a.createElement(Pe,null))});return[i,g]}(n,t,o,c),S=Object(g.a)(O,2);return n=S[0],y=S[1],s.push(y),{gameState:n,scenes:s,title:"Week ".concat(n.phase)}}function tr(e){var t=new _n(e),n=Ln(t),a=Hn(t),i=[[],[]];n.forEach(function(e){var n=function(e,t){return Math.abs(Nn().randomFloat())>la(e,t[0],t[1])?1:0}(e,a),r=Object(d.a)({},e);i[n].push(r),t.currentLog.votes[e.id]=new za(a[n].id)});var o=i[0].length,c=i[1].length,s=0===o||0===c?"By a unanimous vote...":"By a vote of ".concat(o," to ").concat(c,"..."),l=o>c?a[0]:a[1],u=o<c?a[0]:a[1];t.currentLog.winner=l.id,t.currentLog.runnerUp=u.id;var h=new lt({title:"Jury Votes",gameState:t,content:r.a.createElement("div",null,r.a.createElement(et,null,s),r.a.createElement("div",{className:"columns is-centered"},r.a.createElement(Dt,{className:"column"},r.a.createElement(Ne,{houseguests:i[0],centered:!0})),r.a.createElement(Dt,{className:"column"},r.a.createElement(Ne,{houseguests:i[1],centered:!0}))),r.a.createElement(Ne,{houseguests:a,centered:!0}),r.a.createElement(et,null,"Congratulations, ".concat(l.name,"... you are the winner of Big Brother!")),r.a.createElement(Pe,null))});return[t,h]}var nr={canPlayWith:function(e){return 3===e},eliminates:2,arrowsEnabled:!0,hasViewsbar:!0,name:"Big Brother Finale",generate:function(e){var t,n,a,i,o=r.a.createElement(Ge,null,r.a.createElement(Me,{houseguests:e.houseguests})," ",r.a.createElement("br",null),r.a.createElement(Pe,null)),c=[],s=function(e){var t=new _n(e),n=Hn(e),a=In(n),i=n.filter(function(e){return e.id!==a.id}),o=In(n,[a]),c=An(t,In([a,o]).id);c.hohWins++;var s=new lt({title:"Final HoH Competition",gameState:t,content:r.a.createElement("div",null,r.a.createElement($e,null,"The final 3 houseguests compete in the endurance competition."),r.a.createElement(Ne,{houseguests:n,centered:!0}),r.a.createElement(Ce,{houseguest:a,centered:!0}),r.a.createElement(et,null,"".concat(a.name," has won the endurance competition!")),r.a.createElement("hr",null),r.a.createElement($e,null,"".concat(i[0].name," and ").concat(i[1].name," compete in the skill competition.")),r.a.createElement(Ne,{houseguests:i,centered:!0}),r.a.createElement(Ce,{houseguest:o,centered:!0}),r.a.createElement(et,null,"".concat(o.name," has won the skill competition!")),r.a.createElement("hr",null),r.a.createElement($e,null,"".concat(a.name," and ").concat(o.name," compete in the quiz competition.")),r.a.createElement(Ne,{houseguests:[a,o],centered:!0}),r.a.createElement(Ce,{houseguest:c,centered:!0}),r.a.createElement(et,null,"Congratulations ".concat(c.name,", you are the final Head of Household!")),r.a.createElement(Pe,null))});return[new Fn(t),s,c]}(e),l=Object(g.a)(s,3);t=l[0],n=l[1],a=l[2],c.push(n);var u=function(e,t){var n=new _n(e),a=Hn(n).filter(function(e){return e.id!==t.id});n.currentLog.nominationsPostVeto=a.map(function(e){return e.name});var i=ra(t,a,n),o=i.decision,c=i.reason,s=a[o],l=a[1==o?0:1];n.currentLog.soleVoter=t.name,n.currentLog.votes[l.id]=new Ja(!1),n.currentLog.votes[t.id]=new Qa(s.id),n.currentLog.votesInMajority=1,n.currentLog.outOf=1;var u=Object(d.a)({},t);u.tooltip=c,ma(n,s.id);var h=new lt({title:"Final Eviction",gameState:n,content:r.a.createElement("div",null,r.a.createElement($e,null,"As the final HoH of the season, ".concat(t.name,", you may now cast the sole vote to evict.")),r.a.createElement(Ce,{houseguest:u,centered:!0}),r.a.createElement(et,null,"I vote to evict ".concat(s.name,".")),r.a.createElement(Ne,{houseguests:a,centered:!0}),r.a.createElement($e,null,"It's official... ",s.name,", you will be the final person leaving the Big Brother House."),r.a.createElement(Pe,null))});return[new Fn(n),h]}(t,a),h=Object(g.a)(u,2);t=h[0],i=h[1],c.push(i);var m=tr(t),f=Object(g.a)(m,2),p=f[0],v=f[1];return c.push(v),new ar({gameState:p,content:o,title:"Finale",scenes:c,type:nr})}};var ar=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).title=void 0,n.scenes=void 0,n.content=void 0,n.gameState=void 0,n.type=nr,n.title=e.title,n.scenes=e.scenes,n.content=e.content,n.gameState=e.gameState,n}return Object(h.a)(t,e),t}(st),rr={canPlayWith:function(e){return!0},eliminates:1,arrowsEnabled:!1,hasViewsbar:!1,name:"Game Over",generate:function(e){var t=Ua(e);return e.houseguests.forEach(function(t){ma(e,t.id)}),new ir({gameState:e,content:t,title:"Game Over",scenes:[],type:rr})}};var ir=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).title=void 0,n.scenes=void 0,n.content=void 0,n.gameState=void 0,n.title=e.title,n.scenes=e.scenes,n.content=e.content,n.gameState=e.gameState,n}return Object(h.a)(t,e),t}(st);var or=function(){function e(t){Object(c.a)(this,e),this.episodeLibrary={},t&&(this.episodeLibrary=t)}return Object(s.a)(e,[{key:"renderEpisode",value:function(e){return pa(e,this.whichEpisodeType(e.remainingPlayers))}},{key:"whichEpisodeType",value:function(e){return 3===e?nr:2===e?rr:this.episodeLibrary[e]?this.episodeLibrary[e]:Ya}}]),e}(),cr=function(){function e(t){var n=this;Object(c.a)(this,e),this.view=void 0,this.subscriptions=[],this.season=new or,this.scenes=[],this.selectedEpisode=0,this.switchSceneRelative=function(e){var t=n.view.state.selectedScene,a=n.scenes.length,r=t+e;if(!(r<0)){var i=n.view.state.episodes[n.view.state.episodes.length-1];if(r<a)n.switchToScene(r);else if(r===a){var o=i.gameState;Hn(i.gameState).length>0&&(fn(n.season.renderEpisode(o)),n.switchSceneRelative(1))}}},this.view=t,this.subscriptions.push(mn.subscribe({next:function(e){return n.onNewEpisode(e)}})),this.subscriptions.push(dn.subscribe({next:function(e){n.switchSceneRelative(e)}})),this.subscriptions.push(vn.subscribe({next:function(e){n.season=new or(e),n.selectedEpisode=0,On.next(Y)}}))}return Object(s.a)(e,[{key:"getSelectedEpisode",value:function(){return this.selectedEpisode}},{key:"switchToScene",value:function(){var e=Object(v.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return hn.next(this.scenes[t].scene.render),this.selectedEpisode=this.scenes[t].index,e.next=4,this.view.setState({selectedScene:t});case 4:null!==En()&&bn.next(An(this.scenes[this.view.state.selectedScene].scene.gameState,En().id));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_handleKeyDown",value:function(e){var t=this.view.state;void 0!==t.episodes[this.selectedEpisode]&&t.episodes[this.selectedEpisode].type.arrowsEnabled&&(37===e.keyCode?pn(-1):39===e.keyCode&&pn(1))}},{key:"onNewEpisode",value:function(e){var t=this;if(e){var n=Object(d.a)({},this.view.state),a=(0===this.scenes.length?-1:this.scenes[this.scenes.length-1].index)+1;this.scenes.push({scene:e,index:a}),e.scenes.forEach(function(e){return t.scenes.push({scene:e,index:a})}),n.episodes.push(e),this.view.setState(n)}else this.view.setState({episodes:[],selectedScene:0}),this.scenes=[]}},{key:"destroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"handleKeyDown",get:function(){return this._handleKeyDown.bind(this)}}]),e}(),sr=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).controller=void 0,n.controller=new cr(Object(m.a)(Object(m.a)(n))),n.state={episodes:[],selectedScene:0},fn(new dt(new Fn({players:un,jury:Tn(un.length)}))),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.controller.handleKeyDown)}},{key:"componentWillUnmount",value:function(){this.controller.destroy()}},{key:"render",value:function(){return r.a.createElement(Ut,{style:{minWidth:180}},r.a.createElement(Ge,null,this.getEpisodes()))}},{key:"getHighlight",value:function(e,t){return t===this.state.selectedScene?r.a.createElement("mark",null,e):e}},{key:"getEpisodes",value:function(){var e=this,t=[],n=-1,a=0;return this.state.episodes.forEach(function(i){var o=++n;t.push(r.a.createElement("b",{key:o,onClick:function(){e.controller.switchToScene(o)}},e.getHighlight(i.title,o))),t.push(r.a.createElement("br",{key:--a})),i.scenes.forEach(function(o){var c=++n;e.controller.getSelectedEpisode()===i.gameState.phase&&(t.push(r.a.createElement("a",{key:c,onClick:function(){return e.controller.switchToScene(c)}},e.getHighlight(o.title,c))),t.push(r.a.createElement("br",{key:--a})))})}),t}}]),t}(r.a.Component);function lr(){var e=Object(b.a)(["\n    overflow-x: auto;\n"]);return lr=function(){return e},e}var ur=Object(ae.c)(Ut)(lr()),hr=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).contentStream=void 0,n.state={content:null},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.contentStream=hn.subscribe(function(t){e.setState({content:t})})}},{key:"componentDidUpdate",value:function(e,t){t.content!==this.state.content&&window.scrollTo(0,0)}},{key:"componentWillUnmount",value:function(){this.contentStream.unsubscribe()}},{key:"render",value:function(){return r.a.createElement(ur,null,this.state.content)}}]),t}(r.a.Component),mr=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={fullscreen:!1},e.controller.inject(Object(m.a)(Object(m.a)(n))),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.controller.subscribe()}},{key:"componentWillUnmount",value:function(){this.props.controller.unsubscribe()}},{key:"render",value:function(){var e=this.state.fullscreen,t={display:e?"none":""},n=e?{margin:"auto"}:{margin:"auto",maxWidth:1480,overflow:"hidden"};return r.a.createElement("div",{style:n},r.a.createElement(sn,{style:t}),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-narrow",style:t},r.a.createElement(sr,null)),r.a.createElement("div",{className:"column",style:{overflowX:"hidden"}},r.a.createElement(hr,null))))}}]),t}(r.a.Component),dr=function(){function e(){Object(c.a)(this,e),this.view=new mr({controller:this}),this.subscriptions=[]}return Object(s.a)(e,[{key:"inject",value:function(e){this.view=e}},{key:"subscribe",value:function(){var e=this;this.unsubscribe(),this.subscriptions.push(Sn.subscribe(function(t){e.view.setState({fullscreen:t})}))}},{key:"unsubscribe",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}(),fr={name:"dark",bg:"#121212",text:"#FAFAFA",bodyArea:"#363537",toggleBorder:"#6B8096",gradient:"linear-gradient(#091236, #1E215D)",link:"lightblue",mark:"#7e006d",overlay:"#444346",evictedCell:"#9d4c43",grayCell:"#5e5e5e",lightGrayCell:"#404040",runnerUpCell:"#9fbec882",nomineeCell:"#6c75d0",winnerCell:"#00ac04",hohCell:"#3f783f",portraitBorder:"#484848",tableCellBorder:"#53575b"};function pr(){var e=Object(b.a)(["\n  *,\n  *::after,\n  *::before {\n    box-sizing: border-box;\n  }\n\n  body {\n    background: ",";\n    color: ",";\n       transition: all 0.25s linear;\n  }"]);return pr=function(){return e},e}var vr=Object(ae.b)(pr(),function(e){return e.theme.bg},function(e){return e.theme.text}),gr=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).sub=null,n.state={theme:fr},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.sub=xn.subscribe(function(t){e.setState({theme:t})})}},{key:"componentWillUnmount",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"render",value:function(){return r.a.createElement(ae.a,{theme:this.state.theme},r.a.createElement(r.a.Fragment,null,r.a.createElement(vr,null),r.a.createElement(mr,{controller:new dr})))}}]),t}(r.a.Component);o.a.render(r.a.createElement(gr,null),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.4813b723.chunk.js.map